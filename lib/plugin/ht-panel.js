!function(Q,X,$){"use strict";var g="ht",z=Q[g],A=z.Default,Y=A.isTouchable,c=A.isTouchEvent,W=z.Color,O="px",s="0",e="innerHTML",a="className",p="position",m="absolute",D="width",r="height",_="left",L="top",q="right",j="bottom",x="max-width",y="max-height",n=null,o="none",C="",u=Q.parseInt,G=Q.setTimeout,T=A.getInternal(),K=A.animate,d=W.titleIconBackground,N=function(){return document},i=function(W){return N().createElement(W)},f=function(){return i("div")},H=function(){return i("canvas")},F=function(Z,H,N){Z.style.setProperty(H,N,n)},J=function(S,M){return S.style.getPropertyValue(M)},P=function(e,c){e.appendChild(c)},U=function(C,q){C.removeChild(q)},v=T.addEventListener,k=(T.removeEventListener,function(P){var p=P.scrollWidth,K=P.scrollHeight;return P===N().body&&(p=Math.max(p,N().documentElement.scrollWidth),K=Math.max(K,N().documentElement.scrollHeight)),{width:p,height:K}}),Z=function(x){var w=x.touches[0];return w?w:x.changedTouches[0]};T.addMethod(A,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:d,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:d}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:d},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:d}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:d},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:d}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:d},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:d},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:d},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:d}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:d},{type:"rect",rect:[10,118,268,56],background:d},{type:"rect",rect:[10,213,268,56],background:d}]},panelTitleLabelColor:A.labelSelectColor,panelTitleLabelFont:A.labelFont,panelContentLabelFont:A.labelFont,panelTitleBackground:W.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:$},!0);var R=z.widget.Panel=function(k){var h=this,b=h._view=T.createView(null,h);h.$1i=0,h.$18i=new z.Notifier,h.$2i="leftTop",F(b,L,s),F(b,_,s),F(b,p,m),F(b,"overflow","hidden"),h._interactor=new S(h),h.setConfig(k),h.addEventListener(function(U){var T=h.getPanelConfig(U.id),M=T.content;("beginRestore"===U.kind||"betweenResize"===U.kind||"endToggle"===U.kind)&&(M&&M.invalidate&&M.invalidate(),T.items&&T.items.forEach(function(j){j&&j.content&&j.content.invalidate&&j.content.invalidate()}))})};A.def(R,X,{ms_v:1,_dragContainment:"parent",setConfig:function(g){function z($){$.expanded=!$.expanded,V.togglePanel($.id,!0,!0)}if(g){for(var V=this,o=V._view.parentNode;this._view.children.length;)this._view.removeChild(this._view.children[0]);V._config=g,V.$35i=[],g.expanded==n&&(g.expanded=g.expand!=n?g.expand:!0);var Z=V._view,J=V.$24i(g,Z,!0),i=J[2],H=g.width;V.$35i.push(J[1]),g.items&&g.items.forEach(function(k){k.expanded==n&&(k.expanded=k.expand!=n?k.expand:!0);var R=V.$24i(k,i.children[0]);V.$35i.push(R[1])});var G=f();F(G,D,10+O),F(G,r,10+O),F(G,p,m),F(G,j,s),F(G,q,s),G[a]="resize-area",P(Z,G),V.$10i(),g.flowLayout&&F(Z,p,"relative"),F(Z,"opacity",s),P(N().body,Z),H==n&&(H=Z.offsetWidth),F(Z,D,H+O),F(Z,x,H+O);var t=g.content;t&&t.isSelfViewEvent&&(t.setX(0),t.setY(0),t.setWidth(H-2*(g.borderWidth||0)),t.setHeight(g.contentHeight)),g.items&&g.items.forEach(function(B){z(B)}),g.buttons&&g.buttons.indexOf("toggle")<0||z(g),g.minimized==n&&g.minimize!=n&&(g.minimized=g.minimize),g.minimized&&g.minimizable!==!1&&V.minimize(!0),U(N().body,Z),F(Z,"opacity",C),o&&P(o,Z),V.iv()}},getPanelConfig:function(W){var V=this,H=V._config,c=H.items;if(H.id===W)return H;if(c)for(var q=0;q<c.length;q++){var v=c[q];if(v.id===W)return v}},getPanelView:function(F){for(var f=this,G=f.$35i,K=0;K<G.length;K++){var V=G[K],X=V.parentNode;if(X.$15i===F)return X}},setDragContainment:function(P){this._dragContainment=P},getDragContainment:function(){return this._dragContainment},$20i:function(){var O=this._config,v=O.restoreIconSize||24;return v},$5i:function(T){var O=T.titleIconSize||16;return Y&&(O*=1.2),O},$4i:function($){var J=$.titleHeight||A.widgetTitleHeight;return J},setTitle:function(d,i){if(i==n&&(i=this._config.id),i!=n){var s=this.getPanelConfig(i),N=this.getPanelView(i);s.title=d,N.querySelector(".panel-title span").innerHTML=d}},setInnerPanel:function(y){var x,e,D=this,s=y.id,u=D.$35i,U=!1;if(y.expanded==n&&(y.expanded=!0),s!=n){var N=D.getPanelConfig(s);if(N){U=!0;var v,W=D.getPanelView(s),z=W.parentNode,k=W.children[0];if(W!==D._view){D.$11i();for(v in N)delete N.key;for(v in y)N[v]=y[v];x=D.$24i(y,z,!1,W),e=x[1],z.removeChild(W);for(var t=0;t<u.length;t++)if(u[t]===k){u.splice(t,1,e);break}D.$12i(),N.expanded=!N.expanded,D.togglePanel(N.id,!0,!0),D.iv()}}}if(!U){D.$11i(),x=D.$24i(y,D._view.children[1]),e=x[1],u.push(e),D._config.items||(D._config.items=[]);var c=D._config.items;if(c.push(y),D.$12i(),c.length>1){var Y=c[c.length-2],H=D.getPanelView(Y.id).children[0];F(H,"border-bottom",D.$55i(Y))}y.expanded=!y.expanded,D.togglePanel(y.id,!0,!0),D.iv()}},removeInnerPanel:function(Y){var D,j=this,q=-1,x=j._config.items;if(x)for(D=0;D<x.length;D++){var N=x[D];if(N.id===Y){q=D;break}}if(j.$11i(),q>=0){var P=j.$35i,I=j.getPanelView(Y),u=I.children[0];for(D=0;D<P.length;D++)if(P[D]===u){P.splice(D,1);break}x.splice(q,1),I.parentNode.removeChild(I)}if(j.$12i(),x.length>0){var g=x[x.length-1],Q=j.getPanelView(g.id).children[0];F(Q,"border-bottom",j.$55i(g))}},$6i:function(v){F(v,"cursor","pointer"),F(v,"display","inline-block"),F(v,"margin-right",(Y?8:4)+O),F(v,"vertical-align",L)},$24i:function(E,X,B,x){var Y=this,g=Y._config.flowLayout,c=B?X:f(),C=Y.$50i(E),j=Y.$3i(E,B);c[a]="ht-widget-panel"+(B?" outer-panel":" inner-panel"),E.borderWidth==n&&(E.borderWidth=B?2:0);var r=E.borderWidth;if(r="0 "+r+O+" "+r+O+" "+r+O+" ",F(c,"border-width",r),F(c,"border-color",E.titleBackground||A.panelTitleBackground),F(c,"border-style","solid"),P(c,j),P(c,C),B||(x?X.insertBefore(c,x):P(X,c)),!g&&B&&E.minimizable!==!1){var v=H(),z=Y.$20i(),Z=E.restoreToolTip;T.setCanvas(v,z,z),v[a]="control-button button-minimize button-minimize-restore",Y.$6i(v),F(v,"display","none"),P(X,v),v.title=Z||""}var o=E.panelBackground||E.titleBackground||A.panelTitleBackground;if(F(c,"background-color",o),E.id==n){for(var J=Y.$1i++;Y.getPanelConfig(J);)J=Y.$1i++;E.id=J}return c.$15i=E.id,E.width&&(c.style.width=E.width+O),[c,j,C]},$9i:function(D){var t=H();t[a]="control-button button-toggle button-toggle-expand",t.title=D.toggleToolTip||"";var K=this.$4i(D),j=this.$5i(D);return this.$6i(t),T.setCanvas(t,j,K),t},$8i:function(D){var E=H(),p="control-button button-independent-switch";E[a]=D.independent===!0?p+" button-independent-switch-on":p+" button-independent-switch-off",E.title=D.independentSwitchToolTip||"";var i=this.$4i(D),v=this.$5i(D);return this.$6i(E),T.setCanvas(E,v,i),E},$7i:function(w){var U=H();U[a]="control-button button-minimize button-minimize-minimize",U.title=w.minimizeToolTip||"";var V=this.$4i(w),B=this.$5i(w);return this.$6i(U),T.setCanvas(U,B,V),U},$55i:function(h){var i=this._config,W=i.items,z=h.separatorWidth||A.panelSeparatorWidth,w=h.titleBackground||A.panelTitleBackground,B=h.expanded!==!1?w:h.separatorColor||A.panelSeparatorColor||A.brighter(w);return(i===h||W&&W.indexOf(h)===W.length-1)&&(z=0),z+O+" solid "+B},$3i:function(I,Q){var o=this,v=o._config.flowLayout,n=f(),d=f(),U=o.$4i(I),R=I.titleBackground,Z=I.titleColor,Y=I.titleIcon,h=I.buttons;if(n[a]="panel-title",F(n,p,"relative"),F(n,"background",R||A.panelTitleBackground),F(n,"color",Z||A.panelTitleLabelColor),F(n,L,s),F(n,"box-sizing","border-box"),F(n,"-moz-box-sizing","border-box"),F(n,"padding","0 5px 0 0"),F(n,D,"100%"),F(n,"cursor","default"),F(n,"white-space","nowrap"),F(n,"font",A.panelTitleLabelFont),Y){var W=H();W[a]="control-button panel-title-icon";var S=o.$4i(I),z=o.$5i(I);o.$6i(W),T.setCanvas(W,z,S),P(n,W)}var g=i("span");F(g,"display","inline-block"),F(g,"margin-left","5px"),g[e]="<span>"+I.title+"</span>",P(n,g),F(n,"line-height",U+O),d[a]="panel-title-controls",F(d,p,m),F(d,_,s),F(d,q,5+O),F(d,L,s),F(d,j,s),F(d,"text-align",q);var N=function(){var A=o.$9i(I);P(d,A)},V=function(){if(!v&&Q&&I.minimizable!==!1){var S=o.$7i(I);P(d,S)}},t=function(){if(!Q){var h=o.$8i(I);P(d,h)}},$=function(F){var k=H();k[a]="control-button custombutton-"+F.name,k.title=F.toolTip||"",k._action=F.action;var O=o.$4i(I),X=o.$5i(I);o.$6i(k),T.setCanvas(k,X,O),P(d,k)};if(h)for(var y=0;y<h.length;y++){var k=h[y];"string"==typeof k?"minimize"===k?V():"independentSwitch"===k?t():"toggle"===k&&N():"object"==typeof k&&$(k)}else V(),N();return P(n,d),n},$50i:function(b){var t=f(),h=b.contentHeight,y=f();F(y,p,"relative"),t[a]="panel-body",F(t,"overflow","hidden");var k=b.contentBackground;if(k===$&&(k="white"),F(t,"background",k),F(t,"font",A.panelContentLabelFont),P(t,y),b.content){var n,Z=b.content;Z.getView?(P(y,Z.getView()),n=y.children[0]):Z instanceof Element?(P(y,Z),n=y.children[0]):y[e]=Z,Z.isSelfViewEvent||n&&(F(n,D,"100%"),F(n,r,"100%")),h&&F(y,r,h+O)}return t},$10i:function(){var L=this,M=L._config,D=L._view,c=D.querySelector(".resize-area").style;c.display=M.flowLayout||M.minimized===!0||M.expanded===!1?o:"block"},$11i:function(){var f=this._view,I=f.children[1];this.$13i>=0?this.$13i++:this.$13i=1,F(I,y,C),F(f,x,C)},$12i:function(){var Z=--this.$13i;if(0===Z){var D=this._view,g=D.children[1];F(g,y,g.scrollHeight+O),F(D,x,D.offsetWidth+O)}},$14i:function(){var K=this._view,u=K.children[0],_=u.children[1].children,l=this._config,U=0;K.$26i=K.offsetWidth,U+=u.children[0].offsetWidth,l.titleIcon&&(U+=u.children[1].offsetWidth,_=u.children[2].children);for(var $=0;$<_.length;$++){var j=_[$];U+=j.offsetWidth+5}K.$51i=U+15},togglePanel:function(p,r,b){function Q(K){var G=K.target,V=G.parentNode,h=W.getPanelConfig(V.$15i);delete V.$19i,G!==m&&W.$12i(),W.$18i.fire({kind:"endToggle",target:W,id:h.id})}for(var W=this,A=W._view,m=A.children[1],S=n,g=W.$35i,j=g.length,P=W._config.exclusive,E=W.$2i,q=[],l=W._config.narrowWhenCollapse,B=0;j>B;B++){var f=g[B],J=f.parentNode,M=J.$15i,w=W.getPanelConfig(M);M===p&&(S=J),!r&&P&&w.expanded&&J!==A&&M!==p&&w.independent!==!0&&q.push(J)}if(S&&!S.$19i){S.$19i=!0;var I=S.children[1],k=S.querySelector(".button-toggle"),L=W.getPanelConfig(S.$15i);if(!k)return;S===A||L.expanded||L.independent===!0||q.forEach(function(e){W.togglePanel(e.$15i,!0)}),S!==A&&W.$11i();var u=200;if(b&&(u=0),W.$18i.fire({kind:"beginToggle",target:W,id:S.$15i}),L.expanded){var i=function(){k[a]="control-button button-toggle",k[a]+=E.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",F(I,D,I.clientWidth+O),L.expanded=!1,F(S.children[0],"border-bottom",W.$55i(L)),K(I).duration(u).set("opacity",s).set(y,s).end(Q),l&&S===A&&K(S).duration(u).set(x,S.$51i+O).end(),S[a]+=" panel-collapse",K(S).duration(u).set("padding-bottom",s).end(),W.$28i(L,!0),W.$10i()};l&&S===A&&W.$14i(),i()}else k[a]="control-button button-toggle",k[a]+=E.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",F(I,D,C),L.expanded=!0,F(S.children[0],"border-bottom",W.$55i(L)),K(I).duration(u).set("opacity","1").set(y,I.scrollHeight+O).end(Q),l&&S===A&&K(S).duration(u).set(x,(S.$26i||S.offsetWidth)+O).end(),S[a]=S[a].replace(" panel-collapse",C),K(S).duration(u).end(),W.$28i(L,!0),W.$10i()}},$16i:function(){var W=this._view,Y=W.$22i,H=W.$23i,g=this.$2i;return Y==n&&(g.indexOf(_)>=0?Y=W.$22i=0:g.indexOf(q)>=0&&(Y=W.$22i=100)),H==n&&(g.indexOf("Top")>=0?H=W.$23i=0:g.indexOf("Bottom")>=0&&(H=W.$23i=100)),[Y,H]},$25i:function(){var R=this,p=R._view,h=p.$21i,E=R.$20i(),z=R.$16i(),T=z[0],Q=z[1],d=R.$2i;p.children[0].style.display=o,p.children[1].style.display=o,p.children[2].style.display=C,F(p,"padding",s),F(p,x,E+O),"leftTop"===d?(F(p,_,u(J(p,_))+(h.width-E)*T/100+O),F(p,L,u(J(p,L))+(h.height-E)*Q/100+O)):"leftBottom"===d?(F(p,_,u(J(p,_))+(h.width-E)*T/100+O),F(p,j,u(J(p,j))+(h.height-E)*(1-Q/100)+O)):"rightTop"===d?(F(p,q,u(J(p,q))+(h.width-E)*(1-T/100)+O),F(p,L,u(J(p,L))+(h.height-E)*Q/100+O)):"rightBottom"===d&&(F(p,q,u(J(p,q))+(h.width-E)*(1-T/100)+O),F(p,j,u(J(p,j))+(h.height-E)*(1-Q/100)+O)),p[a]+=" panel-minimized",R.$18i.fire({kind:"endMinimize",target:R,id:p.$15i})},$17i:function(){var z=this,H=z._config,l=z._view;F(l,"-webkit-transform",C),F(l,"-ms-transform",C),F(l,"transform",C),H.minimized?z.$25i():(z.$18i.fire({kind:"endRestore",target:z,id:H.id}),l[a]=l[a].replace(" panel-minimized",C)),delete l.$19i},minimize:function(h){var e=this,f=e._view;if(!f.$19i&&f.children[0].style.display!==o){var B=e._config,m=f.getBoundingClientRect(),V=e.$20i(),s=m.width,q=m.height,A=V/s,T=V/q,c=e.$16i(),S=c[0],i=c[1];f.$52i=A,f.$53i=T,f.$21i=m,e.$18i.fire({kind:"beginMinimize",target:e,id:f.$15i});var t=200;h&&(t=0),B.minimized=!0,f.$19i=!0,B.expanded&&(f.$26i=f.offsetWidth);var u=S+"% "+i+"%";F(f,"-webkit-transform-origin",u),F(f,"-ms-transform-origin",u),F(f,"transform-origin",u),K(f).duration(t).scale(A,T).end(function(){e.$17i()}),e.$10i()}},restore:function(){var g,h,s,e,w,U,E,C,y,H,V,b,M=this,Y=M._view,p=Y.parentNode,R=M._config;if(!Y.$19i&&R.minimized){var v=Y.$21i,r=Y.$52i,f=Y.$53i,t=(R.borderWidth+O,M.$20i()),Q=k(p),i=M.$2i;"leftTop"===i?(g=u(J(Y,_)),s=u(J(Y,L)),w=g,E=s,y=g+v.width-Q.width,H=s+v.height-Q.height,y>0&&(y>=g?g=0:g-=y),H>0&&(H>=s?s=0:s-=H),V=100*((w-g)/(v.width-t)),b=100*((E-s)/(v.height-t)),F(Y,_,g+O),F(Y,L,s+O)):"leftBottom"===i?(g=u(J(Y,_)),e=u(J(Y,j)),w=g,C=e,y=g+v.width-Q.width,H=e+v.height-Q.height,y>0&&(y>=g?g=0:g-=y),H>0&&(H>=e?e=0:e-=H),V=100*((w-g)/(v.width-t)),b=100*(1-(C-e)/(v.height-t)),F(Y,_,g+O),F(Y,j,e+O)):"rightTop"===i?(h=u(J(Y,q)),s=u(J(Y,L)),U=h,E=s,y=h+v.width-Q.width,H=s+v.height-Q.height,y>0&&(y>=h?h=0:h-=y),H>0&&(H>=s?s=0:s-=H),V=100*(1-(U-h)/(v.width-t)),b=100*((E-s)/(v.height-t)),F(Y,q,h+O),F(Y,L,s+O)):"rightBottom"===i&&(h=u(J(Y,q)),e=u(J(Y,j)),U=h,C=e,y=h+v.width-Q.width,H=e+v.height-Q.height,y>0&&(y>=h?h=0:h-=y),H>0&&(H>=e?e=0:e-=H),V=100*(1-(U-h)/(v.width-t)),b=100*(1-(C-e)/(v.height-t)),F(Y,q,h+O),F(Y,j,e+O)),Y.children[0].style.display="block",Y.children[1].style.display="block",Y.children[2].style.display=o,F(Y,"-webkit-transform","scale("+r+", "+f+")"),F(Y,"-ms-transform","scale("+r+", "+f+")"),F(Y,"transform","scale("+r+", "+f+")"),Y.$22i=V,Y.$23i=b,F(Y,"-webkit-transform-origin",V+"% "+b+"%"),F(Y,"-ms-transform-origin",V+"% "+b+"%"),F(Y,"transform-origin",V+"% "+b+"%"),R.narrowWhenCollapse&&!R.expanded?F(Y,x,Y.$51i+O):F(Y,x,Y.$26i+O),M.$18i.fire({kind:"beginRestore",target:M,id:Y.$15i}),Y.$19i=!0,R.minimized=!1,G(function(){K(Y).scale(1,1).end(function(){M.$17i()})},30),M.$10i()}},addEventListener:function(k,y,K){this.$18i.add(k,y,K)},removeEventListener:function(i,I){this.$18i.remove(i,I)},setPosition:function(Q,D){var w=this._view,u=this.$2i;"leftTop"===u?(F(w,_,Q+O),F(w,L,D+O),F(w,q,C),F(w,j,C)):"leftBottom"===u?(F(w,_,Q+O),F(w,j,D+O),F(w,q,C),F(w,L,C)):"rightTop"===u?(F(w,q,Q+O),F(w,L,D+O),F(w,_,C),F(w,j,C)):"rightBottom"===u&&(F(w,q,Q+O),F(w,j,D+O),F(w,_,C),F(w,L,C)),delete w.$22i,delete w.$23i},getPosition:function(){var x=this._view,v=this.$2i;return"leftTop"===v?{x:u(J(x,_)),y:u(J(x,L))}:"leftBottom"===v?{x:u(J(x,_)),y:u(J(x,j))}:"rightTop"===v?{x:u(J(x,q)),y:u(J(x,L))}:"rightBottom"===v?{x:u(J(x,q)),y:u(J(x,j))}:void 0},setPositionRelativeTo:function(o){var M=this,u=M._view.querySelectorAll(".button-toggle"),v="control-button button-toggle",f=M.getPosition();M.$2i=o,M.setPosition(f.x,f.y);for(var F=0;F<u.length;F++){var $=u[F],s=M.getPanelConfig($.parentNode.parentNode.parentNode.$15i);$[a]=s.expanded?o.indexOf("Bottom")>=0?v+" button-toggle-collapse":v+" button-toggle-expand":o.indexOf("Bottom")>=0?v+" button-toggle-expand":v+" button-toggle-collapse"}M.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(c){var j=this;j._68I||(j._68I=1,A.callLater(j.validate,j,n,c),j.onInvalidated&&j.onInvalidated(),j.fireViewEvent("invalidate"));var e=this._config,i=e.content;i&&i.invalidate&&i.invalidate(),e.items&&e.items.forEach(function(B){B&&B.content&&B.content.invalidate&&B.content.invalidate()})},getIconStretch:function(){var X=this._config.iconStretch||"fill";return X},$27i:function(e,G,$,U,x){var P=T.initContext(e);T.translateAndScale(P,0,0,1),P.clearRect(0,0,$,$);var i=($-U)/2;A.drawStretchImage(P,A.getImage(G),this.getIconStretch(x),0,i,U,U),P.restore()},$28i:function(m){var G,I,y,_=this,O=m.id,o=_.getPanelView(O),n=o.querySelector(".button-toggle"),K=_.$2i.indexOf("Bottom")>=0;if(I=K?A.panelCollapseIcon:A.panelExpandIcon,y=K?A.panelExpandIcon:A.panelCollapseIcon,n){G=m.expanded?A.getImage(y):A.getImage(I);var T=_.$4i(m),V=_.$5i(m);_.$27i(n,G,T,V,"toggle")}},$29i:function(E){var Z,i=this,I=E.id,C=i.getPanelView(I),L=C.querySelector(".button-independent-switch"),F=A.panelUnLockIcon,P=A.panelLockIcon;if(L){Z=E.independent!==!0?A.getImage(P):A.getImage(F);var H=i.$4i(E),V=i.$5i(E);i.$27i(L,Z,H,V,"switch")}},$30i:function(h){var J=this,o=h.id,e=J.getPanelView(o),K=e.querySelector(".button-minimize-minimize"),M=A.panelMinimizeIcon;if(K){var v=J.$4i(h),p=J.$5i(h);J.$27i(K,A.getImage(M),v,p,"miminize")}},$31i:function(J){var Y=this,c=J.id,U=Y.getPanelView(c),n=U.querySelector(".button-minimize-restore"),R=J.titleIcon||A.panelRestoreIcon;if(n){var b=Y.$20i();Y.$27i(n,A.getImage(R),b,b,"restore")}},$32i:function(k){var _=this,m=k.id,d=_.getPanelView(m);if(k.buttons){var c=k.buttons;c.forEach(function(a){var x=a.name,U=a.icon;if(x&&U){var R=d.querySelector(".custombutton-"+x);if(R){var q=_.$4i(k),S=_.$5i(k)-1;_.$27i(R,A.getImage(U),q,S,"custom")}}})}},$33i:function(l){var j=this,B=l.id,c=j.getPanelView(B),L=c.querySelector(".panel-title-icon"),y=l.titleIcon;if(L&&y){var k=j.$4i(l),I=j.$5i(l);j.$27i(L,A.getImage(y),k,I,"title")}},validateImpl:function(){var Z=this,e=Z._config;Z.$28i(e),Z.$30i(e),Z.$31i(e),Z.$32i(e),Z.$33i(e),e.items&&e.items.forEach(function(A){Z.$28i(A),Z.$29i(A),Z.$32i(A)})}});var S=function(E){var V=this,i=E.getView();V.$34i=E,V.addListeners(),v(i,"dblclick",V.$42i.bind(V))};A.def(S,X,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(y){for(var P=this.$34i,h=y.target,F=P.$35i,s=F.length,L=0;s>L;L++){var V=F[L];V.contains(h)&&(y.preventDefault(),P.togglePanel(V.parentNode.$15i))}},handle_touchstart:function(a){var E=this,P=E.$34i,d=P._config,x=d.flowLayout,L=a;if(A.isLeftButton(a)){var O=a.target,Y=P.getView().children[0],N=P.getView().querySelector(".button-minimize-restore");c(a)&&(L=Z(a));var p=E.$40i={x:L.pageX,y:L.pageY};E.$41i={x:p.x,y:p.y},(!x&&Y.contains(O)||N&&N.contains(O))&&(E.$38i=!0,A.startDragging(E,a)),!x&&E.handle_mousemove(a)&&(E.$37i=!0,A.startDragging(E,a),P.$11i())}},handle_mousedown:function(v){this.handle_touchstart(v)},handle_touchend:function(r){var e=this,A=e.$34i,V=r.target,y=A.$35i,U=y.length,L=0,b=A.getView(),Z=b.querySelector(".button-minimize"),g=b.querySelector(".button-minimize-restore");if(!e.$39i&&!e.$36i){if(Z&&Z.contains(V)||g&&g.contains(V))r.preventDefault(),A._config.minimized?A.restore():A.minimize();else for(;U>L;L++){var u=y[L],z=u.parentNode,S=z.$15i,s=A.getPanelConfig(S),N=u.querySelector(".button-toggle"),Q=u.querySelector(".button-independent-switch");if(N===V)r.preventDefault(),A.togglePanel(S);else if(Q===V){r.preventDefault();var B="button-independent-switch-off",Y="button-independent-switch-on";s.independent=s.independent==n?!0:!s.independent,Q[a]=s.independent?Q[a].replace(B,Y):Q[a].replace(Y,B),A.$29i(s)}else V[a]&&V[a].indexOf("control-button custombutton-")>=0&&u.contains(V)&&V._action.call(A,s,A.getPanelView(S),r)}delete e.$40i,delete e.$41i}},handle_mouseup:function(q){this.handle_touchend(q)},handleWindowTouchEnd:function(){var L=this,O=L.$34i;L.$37i&&L.$36i?(O.$18i.fire({kind:"endResize",target:O,id:O.getView().$15i}),O.$12i()):L.$38i&&L.$39i&&O.$18i.fire({kind:"endMove",target:O,id:O.getView().$15i}),this.clear()},handleWindowMouseUp:function(h){this.handleWindowTouchEnd(h)},handle_mousemove:function(_){var f=this,k=f.getView(),g=k.querySelector(".resize-area"),j=g.getBoundingClientRect(),V={x:j.left,y:j.top,width:j.width,height:j.height};_=c(_)?Z(_):_;var e=_.clientX,m=_.clientY,l=f.$34i._config;return l.expanded&&l.minimized!==!0&&A.containsPoint(V,{x:e,y:m})?(k.style.cursor="nwse-resize",!0):(k.style.cursor=C,void 0)},handleWindowTouchMove:function(p){p.preventDefault();var m=p;c(p)&&(m=Z(p));var W=this,Q=W.$40i,U=W.$41i;if(!(U.x==Q.x&&U.y==Q.y&&A.getDistance(U,{x:m.pageX,y:m.pageY})<=1)){var Y=W.$34i,S=W.getView(),l=S.parentNode,R=Y._config,t=R.resizeMode||"wh",K=m.pageX-Q.x,I=m.pageY-Q.y,P=Y.$2i;if(W.$37i){var w=S.children[1].children[0],g=S.offsetWidth,B=w.offsetHeight,N=g+K,E=B+I;N=Math.max(N,100),E=Math.max(E,100),"w"===t?(F(S,D,N+O),R.width=N):"h"===t?(F(w,r,E+O),R.contentHeight=E):"wh"===t&&(F(S,D,N+O),F(w,r,E+O),R.width=N,R.contentHeight=E),P.indexOf("right")>=0&&F(S,q,u(J(S,q))-(N-g)+O),P.indexOf("Bottom")>=0&&F(S,j,u(J(S,j))-(E-B)+O),Q.x=m.pageX,Q.y=m.pageY;var H=R.content;H&&H.isSelfViewEvent&&(H.setX(0),H.setY(0),H.setWidth(R.width-2*(R.borderWidth||0)),H.setHeight(R.contentHeight)),W.$36i?Y.$18i.fire({kind:"betweenResize",target:Y,id:Y.getView().$15i}):(W.$36i=!0,Y.$18i.fire({kind:"beginResize",target:Y,id:Y.getView().$15i}))}else if(W.$38i){var X,$,h,b,f,T,x,C,i,G,o=S.getBoundingClientRect(),a=o.width,M=o.height,n=k(l),V=n.width,v=n.height,s=Y._dragContainment;"leftTop"===P?(X=u(J(S,_))||0,h=u(J(S,L))||0,f=X+K,x=h+I,"parent"===s&&(f+a>V&&(f=V-a),x+M>v&&(x=v-M),0>f&&(f=0),0>x&&(x=0)),i=f-X,G=x-h,Y.setPosition(f,x),Q.x+=i,Q.y+=G):"rightBottom"===P?($=u(J(S,q))||0,b=u(J(S,j))||0,T=$-K,C=b-I,"parent"===s&&(0>T&&(T=0),0>C&&(C=0),T+a>V&&(T=V-a),C+M>v&&(C=v-M)),i=T-$,G=C-b,Y.setPosition(T,C),Q.x-=i,Q.y-=G):"rightTop"===P?($=u(J(S,q))||0,h=u(J(S,L))||0,T=$-K,x=h+I,"parent"===s&&(0>T&&(T=0),0>x&&(x=0),T+a>V&&(T=V-a),x+M>v&&(x=v-M)),i=T-$,G=x-h,Y.setPosition(T,x),Q.x-=i,Q.y+=G):"leftBottom"===P&&(X=u(J(S,_))||0,b=u(J(S,j))||0,f=X+K,C=b-I,"parent"===s&&(0>f&&(f=0),0>C&&(C=0),f+a>V&&(f=V-a),C+M>v&&(C=v-M)),i=f-X,G=C-b,Y.setPosition(f,C),Q.x+=i,Q.y-=G),W.$39i?Y.$18i.fire({kind:"betweenMove",target:Y,id:Y.getView().$15i}):(W.$39i=!0,Y.$18i.fire({kind:"beginMove",target:Y,id:Y.getView().$15i}))}}},handleWindowMouseMove:function(S){this.handleWindowTouchMove(S)}});var b=z.widget.PanelGroup=function(H){var e=this,M=e._view=T.createView(null,e);M.style.border="1px dashed black",M.style.position="absolute",M.style.background="rgba(120, 120, 120, 0.4)",e.$48i=new z.List,e._tolerance=100,e._config=H||{hGap:0,vGap:0},e.bindHandlePanelMove=e.handlePanelMove.bind(e),e.bindHandlePanelEvent=e.handlePanelEvent.bind(e),e.invalidate()};A.def(b,X,{invalidate:function(){var w=this;w._68I||(w._68I=1,G(function(){w.validate()},50))},validate:function(){if(this._68I){delete this._68I;var D=this.$48i.get(0);if(D){var r=D.getView().parentNode;r&&(this.layoutPanels(r,"leftTop"),this.layoutPanels(r,"rightTop"),this.layoutPanels(r,"leftBottom"),this.layoutPanels(r,"rightBottom"))}}},setLeftTopPanels:function(){var j=this,k=j.$43i,w=j.$48i;k==n&&(k=j.$43i=new z.List);for(var q=0;q<arguments.length;q++){var y=arguments[q];if("string"==typeof y)k.$49i=y;else{if(y._config.flowLayout)continue;y.setPositionRelativeTo("leftTop"),k.contains(y)||k.add(y),w.contains(y)||j.add(y)}}},setRightTopPanels:function(){var k=this,J=k.$44i,f=k.$48i;J==n&&(J=k.$44i=new z.List);for(var h=0;h<arguments.length;h++){var l=arguments[h];if("string"==typeof l)J.$49i=l;else{if(l._config.flowLayout)continue;l.setPositionRelativeTo("rightTop"),J.contains(l)||J.add(l),f.contains(l)||k.add(l)}}},setLeftBottomPanels:function(){var f=this,P=f.$45i,V=f.$48i;P==n&&(P=f.$45i=new z.List);for(var c=0;c<arguments.length;c++){var C=arguments[c];if("string"==typeof C)P.$49i=C;else{if(C._config.flowLayout)continue;C.setPositionRelativeTo("leftBottom"),P.contains(C)||P.add(C),V.contains(C)||f.add(C)}}},setRightBottomPanels:function(){var T=this,u=T.$46i,o=T.$48i;u==n&&(u=T.$46i=new z.List);for(var Q=0;Q<arguments.length;Q++){var I=arguments[Q];if("string"==typeof I)u.$49i=I;else{if(I._config.flowLayout)continue;I.setPositionRelativeTo("rightBottom"),u.contains(I)||u.add(I),o.contains(I)||T.add(I)}}},add:function(C){if(!C._config.flowLayout){var U=this,m=U.$48i;m.contains(C)||(C.addEventListener(U.bindHandlePanelMove),C.addEventListener(U.bindHandlePanelEvent),m.add(C))}},remove:function(m){var f=this,h=f.$48i;h.contains(m)&&(m.removeEventListener(f.bindHandlePanelMove),m.removeEventListener(f.bindHandlePanelEvent),h.remove(m),f.$43i.contains(m)&&f.$43i.remove(m),f.$44i.contains(m)&&f.$44i.remove(m),f.$45i.contains(m)&&f.$45i.remove(m),f.$46i.contains(m)&&f.$46i.remove(m))},layoutPanels:function(N,a,Y){var P=this,Z=P._config,M=Z.hGap||0,g=Z.vGap||0;if(N){var x=P.$43i;if("leftBottom"===a?x=P.$45i:"rightTop"===a?x=P.$44i:"rightBottom"===a&&(x=P.$46i),!x)return;var j=x.$49i,i=M,h=g;if(N.contains(P._view)&&N.removeChild(P._view),x&&x.size()>0)for(var X=0;X<x.size();X++){var _=x.get(X),K=_.getView();N=N||K.parentNode,Y!==X?_.setPosition(i,h):("leftTop"===a?(P._view.style.right="",P._view.style.bottom="",P._view.style.left=i+O,P._view.style.top=h+O):"leftBottom"===a?(P._view.style.right="",P._view.style.top="",P._view.style.left=i+O,P._view.style.bottom=h+O):"rightTop"===a?(P._view.style.left="",P._view.style.bottom="",P._view.style.right=i+O,P._view.style.top=h+O):"rightBottom"===a&&(P._view.style.left="",P._view.style.top="",P._view.style.right=i+O,P._view.style.bottom=h+O),P._view.style.width=K.offsetWidth+O,P._view.style.height=K.offsetHeight+O,N.insertBefore(P._view,K)),"h"===j?i+=K.offsetWidth+M:"v"===j&&(h+=K.offsetHeight+g)}}},handlePanelEvent:function(D){if("beginToggle"===D.kind||"endToggle"===D.kind||"beginRestore"===D.kind||"endMinimize"===D.kind||"endResize"===D.kind){var S=this,C=D.target,N=C.getView(),E=N.parentNode,q=S.$43i,H=S.$44i,Q=S.$45i,x=S.$46i,h=S._config,A=n,V=n,y=C.$47i;if(y==n&&(y=C.$47i=0),"beginToggle"===D.kind?y=C.$47i=y+1:"endToggle"===D.kind&&(y=C.$47i=y-1),q&&q.contains(C)?(A="leftTop",V=q):Q&&Q.contains(C)?(A="leftBottom",V=Q):H&&H.contains(C)?(A="rightTop",V=H):x&&x.contains(C)&&(A="rightBottom",V=x),"beginToggle"===D.kind&&A&&1===y){var p=f(),T=p.style,s=V.$49i,g="each";T.fontSize="0",T.position="absolute",T.width="100%","leftTop"===A?(T.left=0,T.top=0):"leftBottom"===A?(T.left=0,T.bottom=0,"v"===s&&(g="reverseEach")):"rightTop"===A?(T.right=0,T.top=0,T.textAlign="right","h"===s&&(g="reverseEach")):"rightBottom"===A&&(T.right=0,T.bottom=0,T.textAlign="right",g="reverseEach"),V[g](function(G){var y=G.getView(),W=y.style,r=f();W.position="static",r.style.textAlign="left",r.style.position="relative",r.style.display="inline-block","leftTop"===A?(r.style.marginLeft=h.hGap+O,r.style.marginTop=h.vGap+O):"leftBottom"===A?(r.style.marginLeft=h.hGap+O,r.style.marginBottom=h.vGap+O):"rightTop"===A?(r.style.marginRight=h.hGap+O,r.style.marginTop=h.vGap+O):"rightBottom"===A&&(r.style.marginRight=h.hGap+O,r.style.marginBottom=h.vGap+O),r.appendChild(y),p.appendChild(r),"h"===s?r.style.verticalAlign="leftTop"===A||"rightTop"===A?"top":"bottom":p.appendChild(i("br"))}),S.$54i=p,E.appendChild(p)}else"endToggle"===D.kind&&A&&0===y?G(function(){E=E.parentNode.parentNode,E.removeChild(S.$54i),delete S.$54i,V.each(function(b){var j=b.getView(),l=j.style;l.position="absolute",E.appendChild(j)}),S.layoutPanels(E,A)},30):("beginRestore"===D.kind||"endMinimize"===D.kind||"endResize"===D.kind)&&A&&S.layoutPanels(E,A)}},handlePanelMove:function(m){if(!(m.kind.indexOf("Move")<0)){var b=this,X=b._config,l=X.hGap||0,Q=X.vGap||0,j=m.target,o=j._view,J=o.getBoundingClientRect(),a=J.width,N=J.height,y=a/2,q=N/2,g=o.parentNode,e=b.$43i,k=b.$44i,s=b.$45i,d=b.$46i,R=g.getBoundingClientRect(),h=b._tolerance;if("endMove"===m.kind){var F=b._corner;F&&(j.setPositionRelativeTo(F),b.layoutPanels(g,F)),delete b._corner}if("betweenMove"===m.kind){var $=R.left,H=R.top,I=R.width,G=R.height,W=J.left+a/2,t=J.top+N/2;e==n&&(e=b.$43i=new z.List),s==n&&(s=b.$45i=new z.List),k==n&&(k=b.$44i=new z.List),d==n&&(d=b.$46i=new z.List),delete b._corner,e.contains(j)?(e.remove(j),b.layoutPanels(g,"leftTop")):s.contains(j)?(s.remove(j),b.layoutPanels(g,"leftBottom")):k.contains(j)?(k.remove(j),b.layoutPanels(g,"rightTop")):d.contains(j)&&(d.remove(j),b.layoutPanels(g,"rightBottom"));var c=function(B,x){var k=$+l,a=H+Q;if(0===x.size()){var f=k+y,N=a+q;"leftBottom"===B?N=H+G-Q-q:"rightTop"===B?f=$+I-l-y:"rightBottom"===B&&(f=$+I-l-y,N=H+G-Q-q);var C=W-f,P=t-N,E=Math.sqrt(C*C+P*P);if(h>E)return b._corner=B,x.add(j),b.layoutPanels(g,B,0),!0}else if(1===x.size()){var p=x.get(0),F=p.getView().getBoundingClientRect(),K=F.left+y,s=F.top+q,A=F.left+F.width+l+y,_=a+q,v=k+y,i=F.top+F.height+Q+q;"leftBottom"===B?(s=F.top+F.height-q,_=H+G-Q-q,i=F.top-Q-q):"rightTop"===B?(K=F.left+F.width-y,A=F.left-l-y,v=$+I-l-y):"rightBottom"===B&&(K=F.left+F.width-y,s=F.top+F.height-q,A=F.left-l-y,_=H+G-Q-q,v=$+I-l-y,i=F.top-Q-q);var e=W-K,M=t-s,r=W-A,X=t-_,w=W-v,z=t-i,c=u(Math.sqrt(e*e+M*M)),D=u(Math.sqrt(r*r+X*X)),S=u(Math.sqrt(w*w+z*z)),T=[c,D,S];T.sort(function(y,L){return y-L});var m=T[0];if(h>m){if(b._corner=B,m===c)return x.add(j,0),b.layoutPanels(g,B,0),!0;if(m===D)return x.add(j),x.$49i="h",b.layoutPanels(g,B,1),!0;if(m===S)return x.add(j),x.$49i="v",b.layoutPanels(g,B,1),!0}}else if(x.size()>1){for(var o=n,V={},O=[],R=x.$49i,U=0;U<x.size();U++){var L=x.get(U),Y=L.getView(),Z=Y.getBoundingClientRect(),J=Z.left+y,d=Z.top+q;"leftBottom"===B?d=Z.top+Z.height-q:"rightTop"===B?J=Z.left+Z.width-y:"rightBottom"===B&&(J=Z.left+Z.width-y,d=Z.top+Z.height-q),U===x.size()-1&&(o=Z);var C=W-J,P=t-d,E=u(Math.sqrt(C*C+P*P));V[E]=U,O.push(E)}"leftTop"===B&&"h"===R?(f=o.left+o.width+l+y,N=a+q):"leftTop"===B&&"v"===R?(f=k+y,N=o.top+o.height+Q+q):"leftBottom"===B&&"h"===R?(f=o.left+o.width+l+y,N=H+G-Q-q):"leftBottom"===B&&"v"===R?(f=k+y,N=o.top-Q-q):"rightTop"===B&&"h"===R?(f=o.left-l-y,N=a+q):"rightTop"===B&&"v"===R?(f=$+I-l-y,N=o.top+o.height+Q+q):"rightBottom"===B&&"h"===R?(f=o.left-l-y,N=H+G-Q-q):"rightBottom"===B&&"v"===R&&(f=$+I-l-y,N=o.top-Q-q),C=W-f,P=t-N,E=u(Math.sqrt(C*C+P*P)),V[E]=U,O.push(E),O.sort(function(U,P){return U-P});var m=O[0];if(h>m)return b._corner=B,x.add(j,V[m]),b.layoutPanels(g,B,V[m]),!0}};c("leftTop",e)||c("leftBottom",s)||c("rightTop",k)||c("rightBottom",d)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);